<% if notice %>
    <aside id ="notice"><%= notice %></aside>
<% end %>

<link rel="stylesheet" href="https://sdks.shopifycdn.com/polaris/latest/polaris.css" />

<h1 class="Polaris-Heading">Flight Catalog</h1>

<div class="Polaris-Page">
  <div class="Polaris-Page__Content">
    <div class="Polaris-Card">
      <div class="Polaris-ResourceList__ResourceListWrapper">
        <ul class="Polaris-ResourceList" aria-live="polite">
          <li class="Polaris-ResourceList__ItemWrapper" >
                      <% cache @flights do %>
                        <% @flights.each do |flight| %>
                          <% cache flight do %>
            <div class="Polaris-ResourceList-Item"><a aria-describedby="341" class="Polaris-ResourceList-Item__Link" href="customers/341" data-polaris-unstyled="true"></a>
              <div class="Polaris-ResourceList-Item__Container" id="341">
                <div class="Polaris-ResourceList-Item__Content">
                            <div class="Polaris-Card">
                            <h3><span class="Polaris-TextStyle--variationStrong"><%= sanitize(flight.destination)%></span></h3>
                            <span class="Polaris-TextStyle--variationSubdued"><%= (flight.departure_time).to_formatted_s(:long) %></span>
                            <%= button_to 'Add to Cart', tickets_path(flight_id: flight), remote: true %>
                            </div>
                </div>
              </div>
            </div>
                          <% end %>
                        <% end %>
                      <% end %>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>


